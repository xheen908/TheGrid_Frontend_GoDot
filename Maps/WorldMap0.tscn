[gd_scene format=3 uid="uid://cd8gb2nj03epb"]

[ext_resource type="Shader" uid="uid://d1tread0pc742" path="res://Maps/tron_grid.gdshader" id="1_shader"]
[ext_resource type="PackedScene" uid="uid://bpd57r06uwyx5" path="res://Maps/Portal.tscn" id="2_portal"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wall"]
render_priority = 0
shader = ExtResource("1_shader")
shader_parameter/background_color = Color(0, 0.05, 0.1, 1)
shader_parameter/line_color = Color(0, 0.8, 1, 1)
shader_parameter/grid_size = 3.0
shader_parameter/line_width = 1.1
shader_parameter/glow_strength = 4.5

[sub_resource type="PlaneMesh" id="PlaneMesh_floor"]
size = Vector2(250, 250)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_floor"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_night"]
sky_top_color = Color(0.02, 0.02, 0.05, 1)
sky_horizon_color = Color(0.1, 0.1, 0.2, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0.1, 0.1, 0.2, 1)

[sub_resource type="Sky" id="Sky_night"]
sky_material = SubResource("ProceduralSkyMaterial_night")

[sub_resource type="Environment" id="Environment_night"]
background_mode = 2
sky = SubResource("Sky_night")
ambient_light_source = 3
ambient_light_color = Color(0.05, 0.05, 0.1, 1)
tonemap_mode = 2
glow_enabled = true
glow_intensity = 1.0
fog_enabled = true
fog_light_color = Color(0.05, 0.05, 0.1, 1)
fog_sky_affect = 0.5

[sub_resource type="BoxMesh" id="BoxMesh_wall_large"]
size = Vector3(31, 8, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_wall_large"]
size = Vector3(31, 8, 2)

[sub_resource type="BoxMesh" id="BoxMesh_corridor_wall"]
size = Vector3(30, 8, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_corridor_wall"]
size = Vector3(30, 8, 2)

[sub_resource type="BoxMesh" id="BoxMesh_room_wall"]
size = Vector3(12, 8, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_room_wall"]
size = Vector3(12, 8, 2)

[node name="WorldMap0" type="Node3D" unique_id=753575848]

[node name="Environment" type="Node3D" parent="." unique_id=933879437]

[node name="Floor" type="MeshInstance3D" parent="Environment" unique_id=1390772374]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("PlaneMesh_floor")

[node name="StaticBody3D" type="StaticBody3D" parent="Environment/Floor" unique_id=1799978327]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Floor/StaticBody3D" unique_id=864230576]
shape = SubResource("WorldBoundaryShape3D_floor")

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment" unique_id=1068026152]
environment = SubResource("Environment_night")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment" unique_id=96946046]
transform = Transform3D(0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, -0.75, 0.433013, 0, 20, 0)
light_color = Color(0.8, 0.9, 1, 1)
light_energy = 0.5
shadow_enabled = true

[node name="Architecture" type="Node3D" parent="." unique_id=2050221188]

[node name="Wall1_N" type="StaticBody3D" parent="Architecture" unique_id=261835458]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, 29.449291)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Wall1_N" unique_id=2052164654]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_wall_large")

[node name="Col" type="CollisionShape3D" parent="Architecture/Wall1_N" unique_id=405437982]
shape = SubResource("BoxShape3D_wall_large")

[node name="Wall3_E" type="StaticBody3D" parent="Architecture" unique_id=546011236]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 29.141357, 4, 0)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Wall3_E" unique_id=1117966526]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_wall_large")

[node name="Col" type="CollisionShape3D" parent="Architecture/Wall3_E" unique_id=694657592]
shape = SubResource("BoxShape3D_wall_large")

[node name="Wall5_S" type="StaticBody3D" parent="Architecture" unique_id=1219713811]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 4, -29.531864)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Wall5_S" unique_id=1947261315]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_wall_large")

[node name="Col" type="CollisionShape3D" parent="Architecture/Wall5_S" unique_id=1537553174]
shape = SubResource("BoxShape3D_wall_large")

[node name="Wall5_S2" type="StaticBody3D" parent="Architecture" unique_id=257389885]
transform = Transform3D(-0.935, 0, -2.2498375e-06, 0, 0.2, 0, 1.4118108e-07, 0, -14.9, 0.49, 0.25084066, -0.013333589)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Wall5_S2" unique_id=1062067155]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_wall_large")

[node name="Col" type="CollisionShape3D" parent="Architecture/Wall5_S2" unique_id=1683786672]
shape = SubResource("BoxShape3D_wall_large")

[node name="Wall5_S7" type="StaticBody3D" parent="Architecture" unique_id=417434822]
transform = Transform3D(-0.735, 0, -1.9478457e-06, 0, 0.2, 0, 1.10981915e-07, 0, -12.9, 0.49, 1.2383294, -0.013333589)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Wall5_S7" unique_id=557508735]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_wall_large")

[node name="Col" type="CollisionShape3D" parent="Architecture/Wall5_S7" unique_id=1451006272]
shape = SubResource("BoxShape3D_wall_large")

[node name="Wall5_S3" type="StaticBody3D" parent="Architecture" unique_id=87928269]
transform = Transform3D(-0.935, 0, -2.2498375e-06, 0, 0.2, 0, 1.4118108e-07, 0, -14.9, 0.49, 19.233158, 57.11188)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Wall5_S3" unique_id=2130409111]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_wall_large")

[node name="Col" type="CollisionShape3D" parent="Architecture/Wall5_S3" unique_id=1179664520]
shape = SubResource("BoxShape3D_wall_large")

[node name="Wall5_S4" type="StaticBody3D" parent="Architecture" unique_id=1431300481]
transform = Transform3D(-0.935, 0, -2.2498375e-06, 0, 0.2, 0, 1.4118108e-07, 0, -14.9, 0.49, 19.233158, -60.24104)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Wall5_S4" unique_id=384468786]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_wall_large")

[node name="Col" type="CollisionShape3D" parent="Architecture/Wall5_S4" unique_id=1300205379]
shape = SubResource("BoxShape3D_wall_large")

[node name="Wall5_S6" type="StaticBody3D" parent="Architecture" unique_id=1595799200]
transform = Transform3D(-0.935, 0, -2.2498375e-06, 0, 0.2, 0, 1.4118108e-07, 0, -14.9, -51.65938, 19.233158, 0.7319069)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Wall5_S6" unique_id=873334799]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_wall_large")

[node name="Col" type="CollisionShape3D" parent="Architecture/Wall5_S6" unique_id=1479044029]
shape = SubResource("BoxShape3D_wall_large")

[node name="Wall5_S5" type="StaticBody3D" parent="Architecture" unique_id=406301550]
transform = Transform3D(-0.935, 0, -2.2498375e-06, 0, 0.2, 0, 1.4118108e-07, 0, -14.9, 46.708595, 19.233158, -0.273098)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Wall5_S5" unique_id=489971615]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_wall_large")

[node name="Col" type="CollisionShape3D" parent="Architecture/Wall5_S5" unique_id=219543291]
shape = SubResource("BoxShape3D_wall_large")

[node name="Wall7_W" type="StaticBody3D" parent="Architecture" unique_id=1213873248]
transform = Transform3D(1.19249e-08, 0, -1, 0, 1, 0, 1, 0, 1.19249e-08, -29.1458, 4, 0)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Wall7_W" unique_id=1125343421]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_wall_large")

[node name="Col" type="CollisionShape3D" parent="Architecture/Wall7_W" unique_id=250379320]
shape = SubResource("BoxShape3D_wall_large")

[node name="Corridor_NE_L" type="StaticBody3D" parent="Architecture" unique_id=1204527553]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 26, 4, -40)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Corridor_NE_L" unique_id=1738107801]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_corridor_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/Corridor_NE_L" unique_id=1969468152]
shape = SubResource("BoxShape3D_corridor_wall")

[node name="Corridor_NE_R" type="StaticBody3D" parent="Architecture" unique_id=875549225]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 40, 4, -26)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Corridor_NE_R" unique_id=22113128]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_corridor_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/Corridor_NE_R" unique_id=95904861]
shape = SubResource("BoxShape3D_corridor_wall")

[node name="Corridor_SE_L" type="StaticBody3D" parent="Architecture" unique_id=85266587]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, 40, 4, 26)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Corridor_SE_L" unique_id=1645919597]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_corridor_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/Corridor_SE_L" unique_id=1163823541]
shape = SubResource("BoxShape3D_corridor_wall")

[node name="Corridor_SE_R" type="StaticBody3D" parent="Architecture" unique_id=1783558076]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, 26, 4, 40)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Corridor_SE_R" unique_id=1329022208]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_corridor_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/Corridor_SE_R" unique_id=1717374970]
shape = SubResource("BoxShape3D_corridor_wall")

[node name="Corridor_SW_L" type="StaticBody3D" parent="Architecture" unique_id=1057761473]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -26, 4, 40)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Corridor_SW_L" unique_id=1535252621]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_corridor_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/Corridor_SW_L" unique_id=1681910450]
shape = SubResource("BoxShape3D_corridor_wall")

[node name="Corridor_SW_R" type="StaticBody3D" parent="Architecture" unique_id=1821345339]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -40, 4, 26)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Corridor_SW_R" unique_id=1746665053]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_corridor_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/Corridor_SW_R" unique_id=1888622881]
shape = SubResource("BoxShape3D_corridor_wall")

[node name="Corridor_NW_L" type="StaticBody3D" parent="Architecture" unique_id=816438995]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -40, 4, -26)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Corridor_NW_L" unique_id=2037396313]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_corridor_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/Corridor_NW_L" unique_id=1321124048]
shape = SubResource("BoxShape3D_corridor_wall")

[node name="Corridor_NW_R" type="StaticBody3D" parent="Architecture" unique_id=1456412762]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -26, 4, -40)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/Corridor_NW_R" unique_id=578898172]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_corridor_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/Corridor_NW_R" unique_id=1807944961]
shape = SubResource("BoxShape3D_corridor_wall")

[node name="SmallRoom_NE" type="Node3D" parent="Architecture" unique_id=1490919757]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 55, 0, -55)

[node name="Back" type="StaticBody3D" parent="Architecture/SmallRoom_NE" unique_id=2027949281]
transform = Transform3D(0.707, 0, -0.707, 0, 1, 0, 0.707, 0, 0.707, -6.997555, 4, 6.6455345)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_NE/Back" unique_id=1802697020]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_NE/Back" unique_id=390675403]
shape = SubResource("BoxShape3D_room_wall")

[node name="Side1" type="StaticBody3D" parent="Architecture/SmallRoom_NE" unique_id=1032731137]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.997555, 4, 3.6455345)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_NE/Side1" unique_id=114619466]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_NE/Side1" unique_id=1450487221]
shape = SubResource("BoxShape3D_room_wall")

[node name="Side2" type="StaticBody3D" parent="Architecture/SmallRoom_NE" unique_id=1299852783]
transform = Transform3D(-4.37e-08, 0, 1, 0, 1, 0, -1, 0, -4.37e-08, -3.9975548, 4, 13.6455345)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_NE/Side2" unique_id=249035055]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_NE/Side2" unique_id=1814500663]
shape = SubResource("BoxShape3D_room_wall")

[node name="SmallRoom_SE" type="Node3D" parent="Architecture" unique_id=1462820222]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 55, 0, 55)

[node name="Back" type="StaticBody3D" parent="Architecture/SmallRoom_SE" unique_id=766957454]
transform = Transform3D(0.707, 0, 0.707, 0, 1, 0, -0.707, 0, 0.707, -6.808178, 4, -6.24712)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_SE/Back" unique_id=1898371989]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_SE/Back" unique_id=1715633496]
shape = SubResource("BoxShape3D_room_wall")

[node name="Side1" type="StaticBody3D" parent="Architecture/SmallRoom_SE" unique_id=1140546853]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.808178, 4, -3.24712)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_SE/Side1" unique_id=592042063]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_SE/Side1" unique_id=1362991390]
shape = SubResource("BoxShape3D_room_wall")

[node name="Side2" type="StaticBody3D" parent="Architecture/SmallRoom_SE" unique_id=562212773]
transform = Transform3D(-4.37e-08, 0, 1, 0, 1, 0, -1, 0, -4.37e-08, -3.808178, 4, -13.24712)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_SE/Side2" unique_id=1679384785]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_SE/Side2" unique_id=2039579292]
shape = SubResource("BoxShape3D_room_wall")

[node name="SmallRoom_SW" type="Node3D" parent="Architecture" unique_id=1680491756]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -55, 0, 55)

[node name="Back" type="StaticBody3D" parent="Architecture/SmallRoom_SW" unique_id=1670653093]
transform = Transform3D(0.707, 0, -0.707, 0, 1, 0, 0.707, 0, 0.707, 6.2932854, 4, -6.523201)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_SW/Back" unique_id=1192943485]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_SW/Back" unique_id=1318566639]
shape = SubResource("BoxShape3D_room_wall")

[node name="Side1" type="StaticBody3D" parent="Architecture/SmallRoom_SW" unique_id=1416958316]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.293285, 4, -3.523201)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_SW/Side1" unique_id=572934324]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_SW/Side1" unique_id=596382704]
shape = SubResource("BoxShape3D_room_wall")

[node name="Side2" type="StaticBody3D" parent="Architecture/SmallRoom_SW" unique_id=1930844186]
transform = Transform3D(-4.37e-08, 0, 1, 0, 1, 0, -1, 0, -4.37e-08, 3.2932854, 4, -13.523201)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_SW/Side2" unique_id=900358875]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_SW/Side2" unique_id=418446262]
shape = SubResource("BoxShape3D_room_wall")

[node name="SmallRoom_NW" type="Node3D" parent="Architecture" unique_id=1790859445]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -55, 0, -55)

[node name="Back" type="StaticBody3D" parent="Architecture/SmallRoom_NW" unique_id=584436013]
transform = Transform3D(0.707, 0, 0.707, 0, 1, 0, -0.707, 0, 0.707, 7.0723953, 4, 6.985527)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_NW/Back" unique_id=652658996]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_NW/Back" unique_id=255808731]
shape = SubResource("BoxShape3D_room_wall")

[node name="Side1" type="StaticBody3D" parent="Architecture/SmallRoom_NW" unique_id=629897942]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.072395, 4, 3.985527)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_NW/Side1" unique_id=904059766]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_NW/Side1" unique_id=81637382]
shape = SubResource("BoxShape3D_room_wall")

[node name="Side2" type="StaticBody3D" parent="Architecture/SmallRoom_NW" unique_id=666281323]
transform = Transform3D(-4.37e-08, 0, 1, 0, 1, 0, -1, 0, -4.37e-08, 4.0723953, 4, 13.985527)

[node name="Mesh" type="MeshInstance3D" parent="Architecture/SmallRoom_NW/Side2" unique_id=869768107]
material_override = SubResource("ShaderMaterial_wall")
mesh = SubResource("BoxMesh_room_wall")

[node name="Col" type="CollisionShape3D" parent="Architecture/SmallRoom_NW/Side2" unique_id=199629965]
shape = SubResource("BoxShape3D_room_wall")


